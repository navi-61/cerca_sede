<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Elenco Sedi</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 20px;
    }
    table {
        border-collapse: collapse;
        width: 100%;
    }
    th, td {
        border: 1px solid #ccc;
        padding: 6px;
        text-align: left;
    }
    th {
        background-color: #eee;
    }
</style>
</head>
<body onload="loadCSV()">
<h2>Elenco Sedi</h2>

<!-- Casella di ricerca -->
<input type="text" id="searchBox" placeholder="üîç Cerca..." style="margin-bottom:10px; padding:5px; width:200px;">

<table id="dataTable">
    <thead>
        <tr>
            <th>Citt√†</th>
            <th>Indirizzo</th>
            <th>Servizio ASST</th>
            <th>Email</th>
            <th>Presidio Fleet</th>
            <th>Note</th>
        </tr>
    </thead>
    <tbody>
        <!-- Riempito dinamicamente -->
    </tbody>
</table>

<script>
function loadCSV() {
    fetch("dati.csv")
        .then(response => response.text())
        .then(text => {
            const rows = text.trim().split("\n").map(r => r.split(";"));
            const tbody = document.querySelector("#dataTable tbody");
            tbody.innerHTML = "";
            rows.slice(1).forEach(row => {
                const tr = document.createElement("tr");
                row.forEach(cell => {
                    const td = document.createElement("td");
                    td.textContent = cell;
                    tr.appendChild(td);
                });
                tbody.appendChild(tr);
            });
        });
}

document.getElementById('searchBox').addEventListener('input', function () {
    const term = this.value.toLowerCase();
    document.querySelectorAll('#dataTable tbody tr').forEach(row => {
        const match = [...row.cells].some(cell => cell.textContent.toLowerCase().includes(term));
        row.style.display = match ? '' : 'none';
    });
});
</script>
</body>
</html>
